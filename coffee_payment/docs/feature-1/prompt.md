Я хочу изменить статусную модель заказа в проекте. Статусы заказа могут быть следующие:

1. После того как все первичные валидации пройдены, заказ создается в статусе Created
2. После того как был успешно создан платеж в платежной системе статус заказа меняется на Pending
3. После получения уведомления об оплате статус заказа меняется на Paid, если оплата прошла успешно и на Not Paid, если оплата не прошла окончательно
4. Если оплата прошла, то после отправки запроса в API Tmetr на приготовления напитка статус заказа меняется на Make Pending
5. Если в течение сценария оплаты мы понимаем, что заказ не может быть доведен до успешного, то он переходит в статус Failed
6. Необходимо предусмотреть на будущее успешный статус заказа - Successful

При этом у каждого заказа есть время протухания. Оно должно быть в отдельном заказа и считаться как N минут после создания заказа. N задается в настройках проекта