Добавь дополнительные этапы валидации после того, как пользователь отсканировал QR-код.
Новые проверки должны выполняться до начала сценария оплаты и до создания заказа в базе (если применимо).

# Цель
Усилить контроль корректности запроса и состояния оборудования перед запуском сценария оплаты.
Все проверки выполняются последовательно, пока не будет обнаружена ошибка.
При возникновении ошибки отображается экран ошибки для пользователя.

# Последовательность валидаций
## Проверка хэш-суммы запроса
 - Эта проверка выполняется первой.
 - Конкретную реализацию валидации пока оставить пустой (я заполню позже).
 - Если валидация не проходит — показать экран ошибки и завершить сценарий.

## Проверка на существование заказа по UUID
 - Проверить, существует ли заказ с uuid, переданным в запросе.
 - Если заказ существует:
    - Если заказ невалиден (по полю valid_until), показать экран ошибки.
    - Если заказ в статусе Created, продолжить сценарий без создания нового заказа в базе данных.
 - Если заказ не существует, выполнить стандартный процесс создания нового заказа.

## Проверка статуса кофемашины (онлайн / оффлайн)
 - Отправить запрос в API ТМетр для получения последнего heartbeat устройства.
 - Сравнить время последнего heartbeat с текущим временем.
    - Если разница не превышает N минут (значение N задаётся в настройках проекта), считать устройство онлайн.
    - В противном случае — оффлайн.
 - Если кофемашина оффлайн, показать экран ошибки пользователю.

# Поведение интерфейса
 - Пока выполняются валидации, отображать экран загрузки.
 - При возникновении ошибки в любой проверке:
    - Остановить дальнейшие проверки.
    - Показать экран ошибки с пользовательским сообщением.
 - Все текстовые сообщения об ошибках брать из централизованного файла текстовок.

# Обновление документов проекта
 - С учетом новых изменений обнови описание проекта в coffee_payment/docs/PROJECT.md

# Описание запроса heartbeat API ТМетр
Для получения последнего heartbeat необходимо сделать новый запрос в API ТМетр:

method: POST
url: https://{host}/api/ui/v1/stat/heartbeat/recent
auth: Bearer [token]
headers:
    X-TimeZoneOffset: [number] – текущая таймзона сервера
body:
```
    {
        "deviceIds": ["<deviceUUID кофемашины>"],
        "offset": 0,
        "limit": 1
    }
```

200:
```
{
    "content": [
        {
            "deviceId": "<deviceUUID кофемашины>",
            "deviceIotName": "<deviceIoTName кофемашины>", // не используется
            "heartbeatCreatedAt": 1730479734 // время последнего heartbeat. Важно! время уже переведено в таймзону из X-TimeZoneOffset. Если нужно получить в UTC, то необходимо вычесть X-TimeZoneOffset*60 секунд
        }
    ],
    "totalElements": 1,
    "offset": 0,
    "limit": 1
}
```

error:
```
{
  "errorCode": "string",
  "errorId": "string",
  "errorMessage": "string"
}
```